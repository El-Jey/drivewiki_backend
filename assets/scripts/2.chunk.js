(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"8SHQ":function(t,e,n){"use strict";t.exports={app:{name:"Drive Wiki",icon:"images/icons/car_icon.png",images_folder:{cars:"images/cars/",motorcycles:"images/motorcycles/",icons:"images/icons/"}}}},L7TM:function(t,e,n){},Vtdi:function(t,e,n){"use strict";n.r(e);var o=n("XfhM"),s=n.n(o),a=n("qSUR"),r=n("vDqi"),c=n.n(r);s.a.use(a.a);var i=new a.a({locale:"ru",fallbackLocale:"ru",messages:{ru:{common:{car:"автомобиль",motorcycle:"мотоцикл"},header:{cars:"Автомобили",motorcycles:"Мотоциклы"},main_content:{empty_details_info:"Мы искали везде и, к сожалению, ничего не нашли",choose_from_list:"Выберите {vehicle} из списка",home_welcome:"Добро пожаловать на главную страницу Drive Wiki!",home_link:"На главную",report_about_problem:"Или сообщите нам о проблеме"}}}}),l=["ru"];function u(t){return i.locale=t,c.a.defaults.headers.common["Accept-Language"]=t,document.querySelector("html").setAttribute("lang",t),t}var d=n("vDqi").default,m={data:function(){return{langs:null}},created:function(){var t=this;d.get("public/localization/list").then(function(e){return t.langs=e.data.result}).catch(function(t){console.log(t)})},methods:{changeLanguage:function(t){(function(t){return i.locale===t?Promise.resolve(u(t)):l.includes(t)?Promise.resolve(u(t)):c.a.get("public/localization/".concat(t)).then(function(e){return e=JSON.parse(e.data.result),i.setLocaleMessage(t,e),l.push(t),u(t)})})(t.target.value).then(function(){console.log("Language loaded!")})}}},f=n("KHd+"),h=Object(f.a)(m,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"locale-changer"},[n("select",{on:{change:function(e){return t.changeLanguage(e)}}},t._l(t.langs,function(e){return n("option",{key:e.locale,domProps:{value:e.locale}},[t._v(t._s(e.name))])}),0)])},[],!1,null,null,null).exports,_=n("vDqi").default,p=n("8SHQ"),v={components:{LangChanger:h},data:function(){return{appName:p.app.name,appIcon:p.app.icon,searchQuery:"",searchResults:null,selectedBrand:null}},computed:{cars:function(){return this.$store.state.cars},isSearchOpened:function(){return this.$store.getters.isSearchOpened}},methods:{searchVehicles:function(){var t=this;""!=this.searchQuery&&_.post("/public/vehicles/search",{search:this.searchQuery}).then(function(e){return e.data.status?(console.log(e.data.result),t.searchResults=e.data.result):(console.log(e.data),t.searchResults=null)}).catch(function(e){return console.log(e.response.data),t.searchResults=null})},toggleLeftBar:function(){document.getElementById("left_sidebar").classList.toggle("open")},toggleSearchField:function(){this.$store.commit("toggleSearchOnSite"),this.isSearchOpened&&document.getElementById("global_search").focus()},setCursorOnTail:function(t){t.target.selectionStart=t.target.selectionEnd=t.target.value.length},clearSearchField:function(){this.searchQuery="",document.getElementById("global_search").focus()},toggleBrandList:function(t,e){return this.selectedBrand=this.selectedBrand==t?"":t}}},g=Object(f.a)(v,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"site-topbar"},[n("div",{staticClass:"site-container"},["Home"!=t.$route.name?n("div",{staticClass:"topbar-left"},[n("router-link",{staticClass:"topbar-brand",attrs:{to:"/"}},[n("img",{attrs:{src:t.appIcon,alt:""}}),t._v(" "),n("span",[t._v(t._s(t.appName))])]),t._v(" "),n("button",{staticClass:"leftbar-toggle-btn",attrs:{type:"button"},on:{click:t.toggleLeftBar}},[n("font-awesome-icon",{attrs:{icon:["fas","bars"]}})],1)],1):t._e(),t._v(" "),n("nav",{staticClass:"topbar-nav",class:"Home"==t.$route.name?"p-l-1":""},[n("ul",[n("li",[n("router-link",{attrs:{to:"/cars"}},[t._v(t._s(t.$t("header.cars")))])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"/motorcycles"}},[t._v(t._s(t.$t("header.motorcycles")))])],1)]),t._v(" "),n("div",[n("div",{staticClass:"nav-search-container"},[n("div",{staticClass:"search-n-settings",class:t.isSearchOpened?"open":""},[n("div",{staticClass:"search-input-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],attrs:{id:"global_search",type:"text",placeholder:"Поиск по сайту"},domProps:{value:t.searchQuery},on:{focus:function(e){return t.setCursorOnTail(e)},input:[function(e){e.target.composing||(t.searchQuery=e.target.value)},function(e){return t.searchVehicles()}]}}),t._v(" "),n("transition",{attrs:{name:"fade-clear-search"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isSearchOpened&&""!=t.searchQuery,expression:"isSearchOpened && searchQuery != ''"}],staticClass:"clear-search",on:{click:t.clearSearchField}},[n("font-awesome-icon",{attrs:{icon:["fas","times"]}})],1)])],1),t._v(" "),n("button",{staticClass:"settings-btn"},[n("font-awesome-icon",{attrs:{icon:["fas","sliders-h"]}})],1),t._v(" "),n("div",{staticClass:"search-results-container"},[t.searchResults&&t.searchResults.cars.length?n("ul",[n("h3",[t._v(t._s(t.$t("header.cars")))]),t._v(" "),t._l(t.searchResults.cars,function(e,o){return n("li",{key:o,staticClass:"brands-dropdown"},[n("button",{on:{click:function(n){return t.toggleBrandList(e.brand,e.brand)}}},[e.brand!=t.selectedBrand?n("font-awesome-icon",{attrs:{icon:["fas","caret-right"]}}):n("font-awesome-icon",{attrs:{icon:["fas","caret-down"]}}),t._v("\n                                        "+t._s(e.brand)+"\n                                    ")],1),t._v(" "),e.brand==t.selectedBrand?n("transition-group",{staticClass:"dropdown-models",attrs:{tag:"ul",name:"search-brand-dropdown"}},t._l(e.models,function(o){return n("li",{key:o},[n("a",{attrs:{href:"?brand="+e.brand+"&model="+o,target:t._self}},[t._v(t._s(o))])])}),0):t._e()],1)})],2):t._e(),t._v(" "),t.searchResults&&t.searchResults.motorcycles.length?n("ul",[n("h3",[t._v(t._s(t.$t("header.motorcycles")))]),t._v(" "),t._l(t.searchResults.motorcycles,function(e,o){return n("li",{key:o,staticClass:"brands-dropdown"},[n("button",{on:{click:function(n){return t.toggleBrandList(e.brand,e.type)}}},[n("font-awesome-icon",{attrs:{icon:["fas","caret-right"]}}),t._v("\n                                        "+t._s(e.brand)+"\n                                    ")],1),t._v(" "),e.brand==t.selectedBrand?n("transition-group",{staticClass:"dropdown-models",attrs:{tag:"ul",name:"search-brand-dropdown"}},t._l(e.models,function(o){return n("li",{key:o},[n("router-link",{attrs:{to:"?brand="+e.brand+"&model="+o}},[t._v(t._s(o))])],1)}),0):t._e()],1)})],2):t._e()])]),t._v(" "),n("button",{staticClass:"toggle-search-btn",on:{click:t.toggleSearchField}},[n("transition-group",{attrs:{name:"rotate-search-icon"}},[n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:!t.isSearchOpened,expression:"!isSearchOpened"}],key:"1",attrs:{icon:["fas","search"]}}),t._v(" "),n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:t.isSearchOpened,expression:"isSearchOpened"}],key:"2",attrs:{icon:["fas","ban"]}})],1)],1)]),t._v(" "),n("lang-changer")],1)])])])},[],!1,null,null,null).exports,y=n("vDqi").default,b={data:function(){return{vehicleTypes:null}},created:function(){y.get("public/vehicles/types").then(function(t){console.log(t.data)}).catch(function(t){console.log(t)})},computed:{vehicles:function(){return this.$store.state.vehicles},selectedBrand:function(){return this.$store.state.selectedBrand}},methods:{toggleLeftSideDropList:function(t,e){return this.$store.commit("selectedBrand",t)}}},I=Object(f.a)(b,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"left_sidebar"}},[n("div",{staticClass:"sidebar-home-link"},[n("a",{attrs:{href:"/"}},[n("span",[t._v(t._s(t.$t("main_content.home_link")))])])]),t._v(" "),n("ul",{staticClass:"sidebar-list"},t._l(t.vehicles,function(e){return n("li",{key:e.brand,staticClass:"sidebar-dropdown",class:e.brand!=t.selectedBrand?"":"dropdown-active"},[n("button",{on:{click:function(n){return t.toggleLeftSideDropList(e.brand,n)}}},[e.brand!=t.selectedBrand?n("font-awesome-icon",{staticClass:"caret-icon",attrs:{icon:["fas","caret-right"]}}):n("font-awesome-icon",{staticClass:"caret-icon",attrs:{icon:["fas","caret-down"]}}),t._v(" "),n("span",[t._v(t._s(e.brand))])],1),t._v(" "),n("transition",{attrs:{name:"leftside-dropdown"}},[e.brand==t.selectedBrand?n("ul",t._l(e.models,function(o){return n("li",{key:o,staticClass:"dropdown-item"},[n("router-link",{attrs:{to:{query:{brand:""+e.brand,model:""+o}},append:""}},[t._v(t._s(o))])],1)}),0):t._e()])],1)}),0)])},[],!1,null,null,null).exports,$=(n("vDqi").default,{components:{AppHeader:g,AppLeftBar:I},computed:{isSearchOpened:function(){return this.$store.getters.isSearchOpened}},mounted:function(){var t=this;document.body.addEventListener("click",function(e){e.target.closest(".nav-search-container")||t.isSearchOpened&&t.$store.commit("toggleSearchOnSite")});var e=0,n=0;document.body.addEventListener("touchstart",function(t){t.changedTouches[0].clientY<=50||(e=t.changedTouches[0].clientX)}),document.body.addEventListener("touchend",function(t){if(!(t.changedTouches[0].clientY<=50)){n=t.changedTouches[0].clientX;var o=document.getElementById("left_sidebar"),s=e-n;e<=250&&(s<0&&!o.classList.contains("open")?o.classList.add("open"):s>0&&o.classList.contains("open")&&o.classList.remove("open"))}})},created:function(){console.log("created")}}),C=Object(f.a)($,function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("app-header"),this._v(" "),e("main",{staticClass:"site-main h-100"},[e("div",{staticClass:"site-container h-100"},["Home"!=this.$route.name?e("app-left-bar"):this._e(),this._v(" "),e("transition",{attrs:{name:"sideShift"}},[e("router-view")],1)],1)])],1)},[],!1,null,null,null).exports,w=n("jE9Z"),E=n("8SHQ"),M={data:function(){return{appName:E.app.name,year:(new Date).getFullYear()}}},L=Object(f.a)(M,function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"site-footer"},[e("div",[e("span",[this._v(this._s(this.appName)+"© "+this._s(this.year))])])])},[],!1,null,null,null).exports,D=n("8SHQ"),S=n.n(D),O=n("vDqi").default,k={components:{AppFooter:L},data:function(){return{imagesFolder:{cars:S.a.app.images_folder.cars,icons:S.a.app.images_folder.icons},previousRoute:""}},beforeRouteEnter:function(t,e,n){n(function(n){n.previousRoute=e.name||"",n.$helpers.isEmptyObject(n.$route.query)||(n.$store.commit("selectedBrand",t.query.brand),n.getModelDetails(t.query.brand,t.query.model))})},beforeRouteUpdate:function(t,e,n){this.$helpers.isEmptyObject(t.query)||(this.getModelDetails(t.query.brand,t.query.model),n())},mounted:function(){var t=this;O.get("/public/cars/list").then(function(e){t.$store.commit("vehiclesList",e.data.result)}).catch(function(e){console.log(e),t.$store.commit("vehiclesList",null)})},computed:{carInfo:function(){return this.$store.state.carModelDetails},isEmptyCarInfo:function(){return this.$store.state.isEmptyCarModelDetails}},methods:{getModelDetails:function(t,e){var n=this;this.selectedModel!=e&&(this.selectedModel=e,O.get("/public/cars/model",{params:{brand:t,model:e}}).then(function(t){if(!t.data.status)return console.log("Error in retrieving data: \r\n",t.data),n.$store.commit("carDetails",null),void n.$store.commit("isEmptyCarModelDetails",!0);n.$store.commit("carDetails",t.data.result),n.$store.commit("isEmptyCarModelDetails",!1),document.getElementById("left_sidebar").classList.remove("open")}).catch(function(t){console.log(t)}))}}},B=Object(f.a)(k,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-container"},[t.carInfo?n("div",{staticClass:"info-container"},[n("div",{staticClass:"main-info info"},[t.carInfo.totalInfo.description?n("p",{domProps:{innerHTML:t._s(t.carInfo.totalInfo.description)}},[t._v(t._s(t.carInfo.totalInfo.description))]):t._e(),t._v(" "),t._l(t.carInfo.paragraphs,function(e,o){return n("div",{key:o},[n("h3",[t._v(t._s(e.title))]),t._v(" "),n("p",{domProps:{innerHTML:t._s(e.description)}},[t._v(t._s(e.description))])])})],2),t._v(" "),n("div",{staticClass:"common-info"},[t.carInfo.totalInfo.main_image?n("img",{attrs:{src:t.imagesFolder.cars+t.carInfo.totalInfo.main_image,alt:t.carInfo.totalInfo.brand}}):t._e(),t._v(" "),n("table",[t._m(0),t._v(" "),n("tbody",[t.carInfo.totalInfo.manufacturer?n("tr",[t._m(1),t._v(" "),n("td",[t._v(t._s(t.carInfo.totalInfo.manufacturer))])]):t._e(),t._v(" "),t.carInfo.totalInfo.years?n("tr",[t._m(2),t._v(" "),n("td",{domProps:{innerHTML:t._s(t.carInfo.totalInfo.years)}},[t._v(t._s(t.carInfo.totalInfo.years))])]):t._e(),t._v(" "),t.carInfo.totalInfo.class?n("tr",[t._m(3),t._v(" "),n("td",{domProps:{innerHTML:t._s(t.carInfo.totalInfo.class)}},[t._v(t._s(t.carInfo.totalInfo.class))])]):t._e()])])])]):n("div",{staticClass:"info-container"},[n("div",{staticClass:"main-info empty-info"},[t.isEmptyCarInfo?n("h5",[n("p",[t._v(t._s(t.$t("main_content.empty_details_info")))]),t._v(" "),n("p",{staticClass:"arrow-left-notice"},[n("img",{attrs:{src:t.imagesFolder.icons+"arrow-left.png",alt:""}}),t._v(" "),n("span",[t._v(t._s(t.$t("main_content.choose_from_list",{vehicle:t.$t("common.car")})))])]),t._v(" "),n("p",[n("span",[t._v(t._s(t.$t("main_content.report_about_problem")))])])]):n("h5",[n("p",{staticClass:"arrow-left-notice"},[n("img",{attrs:{src:t.imagesFolder.icons+"arrow-left.png",alt:""}}),t._v(" "),n("span",[t._v(t._s(t.$t("main_content.choose_from_list",{vehicle:t.$t("common.car")})))])])])])]),t._v(" "),n("app-footer")],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{colspan:"2"}},[this._v("Общие данные")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("strong",[this._v("Производитель")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("strong",[this._v("Годы производства")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("strong",[this._v("Класс")])])}],!1,null,null,null).exports,q=n("vDqi").default,H={components:{AppFooter:L},data:function(){return{imagesFolder:{motorcycles:S.a.app.images_folder.motorcycles,icons:S.a.app.images_folder.icons},previousRoute:""}},beforeRouteEnter:function(t,e,n){n(function(n){n.previousRoute=e.name||"",n.$helpers.isEmptyObject(n.$route.query)||(n.$store.commit("selectedBrand",t.query.brand),n.getModelDetails(t.query.brand,t.query.model))})},beforeRouteUpdate:function(t,e,n){this.$helpers.isEmptyObject(t.query)||(this.getModelDetails(t.query.brand,t.query.model),n())},mounted:function(){var t=this;q.get("/public/motorcycles/list").then(function(e){t.$store.commit("vehiclesList",e.data.result)}).catch(function(e){console.log(e),t.$store.commit("vehiclesList",null)})},computed:{motorcycleInfo:function(){return this.$store.state.motorcycleModelDetails},isEmptyMotorcycleInfo:function(){return this.$store.state.isEmptyMotorcycleModelDetails}},methods:{getModelDetails:function(t,e){var n=this;this.selectedModel!=e&&(this.selectedModel=e,q.get("/public/motorcycles/model",{params:{brand:t,model:e}}).then(function(t){if(!t.data.status)return console.log("Error in retrieving data: \r\n",t.data),n.$store.commit("motorcycleDetails",null),void n.$store.commit("isEmptyMotorcycleModelDetails",!0);n.$store.commit("motorcycleDetails",t.data.result),n.$store.commit("isEmptyMotorcycleModelDetails",!1),document.getElementById("left_sidebar").classList.remove("open")}).catch(function(t){console.log(t)}))}}},R=Object(f.a)(H,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-container"},[t.motorcycleInfo?n("div",{staticClass:"info-container"},[n("div",{staticClass:"main-info info"},[t.motorcycleInfo.totalInfo.description?n("p",{domProps:{innerHTML:t._s(t.motorcycleInfo.totalInfo.description)}},[t._v(t._s(t.motorcycleInfo.totalInfo.description))]):t._e(),t._v(" "),t._l(t.motorcycleInfo.paragraphs,function(e){return n("div",[e.title?n("h3",[t._v(t._s(e.title))]):t._e(),t._v(" "),n("p",{domProps:{innerHTML:t._s(e.description)}},[t._v(t._s(e.description))])])})],2),t._v(" "),n("div",{staticClass:"common-info"},[t.motorcycleInfo.totalInfo.main_image?n("img",{attrs:{src:t.imagesFolder.motorcycles+t.motorcycleInfo.totalInfo.main_image,alt:t.motorcycleInfo.totalInfo.brand}}):t._e(),t._v(" "),n("table",[t._m(0),t._v(" "),n("tbody",[t.motorcycleInfo.totalInfo.manufacturer?n("tr",[t._m(1),t._v(" "),n("td",[t._v(t._s(t.motorcycleInfo.totalInfo.manufacturer))])]):t._e(),t._v(" "),t.motorcycleInfo.totalInfo.years?n("tr",[t._m(2),t._v(" "),n("td",{domProps:{innerHTML:t._s(t.motorcycleInfo.totalInfo.years)}},[t._v(t._s(t.motorcycleInfo.totalInfo.years))])]):t._e(),t._v(" "),t.motorcycleInfo.totalInfo.class?n("tr",[t._m(3),t._v(" "),n("td",{domProps:{innerHTML:t._s(t.motorcycleInfo.totalInfo.class)}},[t._v(t._s(t.motorcycleInfo.totalInfo.class))])]):t._e()])])])]):n("div",{staticClass:"info-container"},[n("div",{staticClass:"main-info empty-info"},[t.isEmptyMotorcycleInfo?n("h5",[n("p",[t._v(t._s(t.$t("main_content.empty_details_info")))]),t._v(" "),n("p",{staticClass:"arrow-left-notice"},[n("img",{attrs:{src:t.imagesFolder.icons+"arrow-left.png",alt:""}}),t._v(" "),n("span",[t._v(t._s(t.$t("main_content.choose_from_list",{vehicle:t.$t("common.motorcycle")})))])]),t._v(" "),n("p",[n("span",[t._v(t._s(t.$t("main_content.report_about_problem")))])])]):n("h5",[n("p",{staticClass:"arrow-left-notice"},[n("img",{attrs:{src:t.imagesFolder.icons+"arrow-left.png",alt:""}}),t._v(" "),n("span",[t._v(t._s(t.$t("main_content.choose_from_list",{vehicle:t.$t("common.motorcycle")})))])])])])]),t._v(" "),n("app-footer")],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{colspan:"2"}},[this._v("Общие данные")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("strong",[this._v("Производитель")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("strong",[this._v("Годы производства")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("strong",[this._v("Класс")])])}],!1,null,null,null).exports,T={name:"app",components:{AppFooter:L}},x=[{path:"/",name:"Home",component:Object(f.a)(T,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home content-container"},[e("div",{staticClass:"info-container"},[e("h1",[this._v(this._s(this.$t("main_content.home_welcome")))])]),this._v(" "),e("app-footer")],1)},[],!1,null,null,null).exports},{path:"/cars",name:"Cars",component:B},{path:"/motorcycles",name:"Motorcycles",component:R}];s.a.use(w.a);var F,j=new w.a({linkActiveClass:"active",linkExactActiveClass:"exact-active",mode:"history",routes:x}),P=n("L2JU");function Q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}s.a.use(P.a);var A=new P.a.Store({state:{isSearchOpened:!1,vehicles:null,carModelDetails:null,isEmptyCarModelDetails:!1,motorcycles:null,motorcycleModelDetails:null,isEmptyMotorcycleModelDetails:!1,selectedBrand:""},mutations:(F={},Q(F,"toggleSearchOnSite",function(t){t.isSearchOpened=!t.isSearchOpened}),Q(F,"vehiclesList",function(t,e){t.vehicles=e}),Q(F,"carDetails",function(t,e){t.carModelDetails=e}),Q(F,"isEmptyCarModelDetails",function(t,e){t.isEmptyCarModelDetails=e}),Q(F,"motorcycleDetails",function(t,e){t.motorcycleModelDetails=e}),Q(F,"isEmptyMotorcycleModelDetails",function(t,e){t.isEmptyMotorcycleModelDetails=e}),Q(F,"selectedBrand",function(t,e){t.selectedBrand=t.selectedBrand==e?"":e}),F),getters:{isSearchOpened:function(t){return t.isSearchOpened}}}),N={isEmptyObject:function(t){for(var e in t)return!1;return!0}},J={install:function(t){t.prototype.$helpers=N}},U=n("7O5W"),V=n("wHSu"),W=n("rT2p");n("L7TM");U.c.add(V.d,V.c,V.e,V.b,V.a,V.g,V.f),s.a.component("font-awesome-icon",W.a),s.a.use(J),new s.a({el:"#app",render:function(t){return t(C)},i18n:i,router:j,store:A,CustomPlugin:J})}},[["Vtdi",1,0,3,6,7,9,10,12,13,14,11,15]]]);